function loadNote(){let e=JSON.parse(localStorage.getItem("panel-order")).length,{panelIndex:t}=getUrlParams(),n=JSON.parse(localStorage.getItem("vals-note"))||[],o=JSON.parse(localStorage.getItem("orders-note"))||Array(e),l=n[o[t]-1],i=document.getElementById("note-editor"),r=document.getElementById("main-title");l?(r.innerText=l[0]||"Untitled",i.value=l[1]||""):(r.innerText="Untitled",i.value="")}function saveNote(e){let t=JSON.parse(localStorage.getItem("vals-note"))||[],n=JSON.parse(localStorage.getItem("orders-note")),o,l=[document.getElementById("main-title").innerText,document.getElementById("note-editor").value];n[e]?t[n[e]-1]=l:(t.push(l),n[e]=t.length,localStorage.setItem("orders-note",JSON.stringify(n))),localStorage.setItem("vals-note",JSON.stringify(t));let{isPopped:i}=getUrlParams();"true"===i&&loadSidepanel("note")}window.addEventListener("load",function(){let{panelIndex:e,isPopped:t}=getUrlParams();loadNote(),"true"===t&&loadSidepanel("note"),document.getElementById("note-editor").addEventListener("input",()=>saveNote(e)),document.getElementById("main-title").addEventListener("input",()=>saveNote(e))});