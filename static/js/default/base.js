function startTutorial(){"true"===localStorage.getItem("tutorial-active")&&openModal("tutorialModal")}function handleLogoClick(){let e=document.getElementById("logo"),t="#F5F5F5"===localStorage.getItem("colour-mode-back")||null===localStorage.getItem("colour-mode-back");t?animateLogo(e):(animateZzzEffect(),pulseLogo(e))}function animateLogo(e){e.classList.remove("animate"),e.offsetWidth,e.classList.add("animate")}function animateZzzEffect(){let e=document.querySelector(".zzz-container"),t=e.querySelectorAll("div");t.forEach(e=>{e.classList.add("zzz-animate"),e.textContent="Z",e.addEventListener("animationend",()=>{e.classList.remove("zzz-animate"),e.textContent=""})})}function pulseLogo(e){e.classList.remove("pulse"),e.offsetWidth,e.classList.add("pulse")}function openModal(e){document.getElementById("modalOverlay").classList.add("active"),document.getElementById(e).style.display="flex"}function closeModal(){document.getElementById("tutorialModal").style.display="none",document.getElementById("dataModal").style.display="none",document.getElementById("supportModal").style.display="none";let e=document.getElementById("sidePanel"),t="0px"===e.style.right;t||document.getElementById("modalOverlay").classList.remove("active"),"true"===localStorage.getItem("tutorial-active")&&localStorage.setItem("tutorial-active","false")}function saveData(){let e={};for(let t=0;t<localStorage.length;t++){let l=localStorage.key(t);e[l]=localStorage.getItem(l)}let a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download="nootab-data.json",o.click()}function uploadData(){document.getElementById("fileInput").click()}function handleFileUpload(e){let t=e.target.files[0];if(t){let l=new FileReader;l.onload=function(e){try{let t=JSON.parse(e.target.result);for(let[l,a]of Object.entries(t))localStorage.setItem(l,a);location.reload()}catch(o){alert("Invalid JSON file")}},l.readAsText(t)}}function clearData(){confirm("Are you sure you want to clear all data?")&&(localStorage.clear(),fetch("https://api.nootab.com/signout",{method:"POST",credentials:"include",headers:{App:"all"}}).then(e=>e.json()).then(e=>{e.signed_out&&location.reload()}))}window.addEventListener("load",()=>{let e=document.querySelector("#logo img");e.addEventListener("click",handleLogoClick),null===localStorage.getItem("tutorial-active")&&localStorage.setItem("tutorial-active","true"),null!==localStorage.getItem("panel-order")&&localStorage.setItem("tutorial-active","false"),startTutorial()}),window.onclick=function(e){let t=document.getElementById("modalOverlay");e.target===t&&closeModal()};